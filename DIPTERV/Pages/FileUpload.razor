@page "/fileupload"
@using DIPTERV.Context;
@using DIPTERV.Data
@using DIPTERV.Services;
@using Microsoft.EntityFrameworkCore

@inject GeneticAlgorithmService gaService

<PageTitle>File Upload</PageTitle>

<RadzenCard Style="width: 320px">
    Tantárgyfelosztás feltöltése
    <InputFile OnChange="@UploadFileAsync" />
</RadzenCard>
<RadzenCard>
    Órarend készítése
    <RadzenButton Variant="Variant.Flat" Click=@(args => AlgStartAsync()) Text="Algoritmus indítása" ButtonStyle="ButtonStyle.Primary" />
</RadzenCard>
            

@code {

    private async void UploadFileAsync(InputFileChangeEventArgs e)
    {
        await gaService.ImportExcelFileAsync(e);
    }
    private async void AlgStartAsync()
    {
        await gaService.RunGAAsync();
    }

  
}
